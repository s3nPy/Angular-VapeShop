

<div *ngIf="item; else loading">
  <div class="row">
    <div class="col s12">
      <h4>{{item.name}}</h4>
      <small>Добавлен: <strong>{{item.date | date:'dd.MM.yyyy'}}</strong></small>
    </div>
  </div>
  <div class="row">
    <div class="col s8">
      <img [src]="item.url" alt="">
      <hr />

      <h5>Описание</h5>
      <p>{{item.description}}</p>

    </div>

    <div class="col s4 properties">
      <table>
        <thead>
          <tr>
            <th colspan="2">
              Характеристики
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let feature of item.features | keyvalue">
            <td>{{feature.key | titlecase}}</td>
            <th>{{feature.value}}</th>
          </tr>
        </tbody>
      </table>

      <table>
        <thead>
          <tr>
            <th colspan="2">
              Купить
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Цена</td>
            <th>{{item.cost}}</th>
          </tr>
          <tr>
            <td>Осталось</td>
            <th>{{item.amount}}</th>
          </tr>
        </tbody>
      </table>

      <div>
        <app-counter
          [(ngModel)]="amount"
          [constraints]="{min: 1, max: item.amount}"
        ></app-counter>
        <button
          class="waves-effect waves-light btn"
          (click)="addToBasket()"
        >
          Добавить в корзину
        </button>
      </div>

    </div>
  </div>
</div>

<ng-template #loading>
  <p class="center">Идет загрузка...</p>
</ng-template>
